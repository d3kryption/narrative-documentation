"use strict";(self.webpackChunknarrative_docs=self.webpackChunknarrative_docs||[]).push([[8265],{74066:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var o=t(74848),i=t(28453);const r={sidebar_label:"Player State",sidebar_position:2},a="Player State",s={id:"inventory/installation/player-state",title:"Player State",description:"Before we can move on, we need to create a custom PlayerState.",source:"@site/docs/inventory/installation/player-state.md",sourceDirName:"inventory/installation",slug:"/inventory/installation/player-state",permalink:"/inventory/installation/player-state",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Player State",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Common UI",permalink:"/inventory/installation/common-ui"},next:{title:"Player Controller",permalink:"/inventory/installation/player-controller"}},l={},c=[{value:"Component location",id:"component-location",level:2},{value:"Begin Looting",id:"begin-looting",level:2}];function h(e){const n={a:"a",admonition:"admonition",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"player-state",children:"Player State"})}),"\n",(0,o.jsx)(n.p,{children:"Before we can move on, we need to create a custom PlayerState."}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["If you already have a custom PlayerState, you can skip this step and go to ",(0,o.jsx)(n.a,{href:"/inventory/installation/player-state#component-location",children:"Component Location"})]})}),"\n",(0,o.jsxs)(n.p,{children:["Simply right-click in your Content Drawer, select Blueprint Class and choose ",(0,o.jsx)(n.strong,{children:"Player State"}),". We will name this ",(0,o.jsx)(n.strong,{children:"BP_PlayerState"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"player-controller-pick-parent-class.webp",src:t(53945).A+"",width:"626",height:"560"})}),"\n",(0,o.jsxs)(n.p,{children:["Now open the ",(0,o.jsx)(n.strong,{children:"BP_ThirdPersonGameMode"})," and set the Player State class to your newly created ",(0,o.jsx)(n.strong,{children:"BP_PlayerState"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"component-location",children:"Component location"}),"\n",(0,o.jsx)(n.p,{children:"This highly depends on what your game is and how you want it to work."}),"\n",(0,o.jsx)(n.p,{children:"The Narrative Inventory component has been created, so you can create an inventory, anywhere, on any blueprint. You simply assign the component to the blueprint."}),"\n",(0,o.jsx)(n.p,{children:"If you want a chest to store items, give the blueprint an inventory, set its friendly name to be Chest and set its default items."}),"\n",(0,o.jsx)(n.p,{children:"If you want to give an NPC items, give the blueprint an inventory, set its friendly name to be the NPC\u2019s name and set its default items."}),"\n",(0,o.jsx)(n.p,{children:"If you are adding an inventory for your player, we highly recommend you place the Narrative Inventory Component on the Player State whether you are creating a multiplayer game or not. This ensures uniformity across the plugin and is one less thing you have to do if you ever decide to move to a multiplayer game."}),"\n",(0,o.jsx)(n.p,{children:"However, there will always be reasons why putting it on the player state won\u2019t work for you (and that's okay!) so Narrative Inventory comes with some nodes to help you find your inventory."}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"There is a bug in Narrative Inventory 1.7.0 which requires the players Inventory to be on the player state. This is fixed in Narrative Inventory 2.0.0."})}),"\n",(0,o.jsx)(n.h2,{id:"begin-looting",children:"Begin Looting"}),"\n",(0,o.jsxs)(n.p,{children:["For the looting system to work, you need to hook into the ",(0,o.jsx)(n.a,{href:"/inventory/inventory-component/functions#on-begin-looting",children:"OnBeginLooting"})," event of the ",(0,o.jsx)(n.a,{href:"../inventory-component",children:"Inventory component"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Simply right-click on the inventory component -> ",(0,o.jsx)(n.strong,{children:"Add Event"})," -> ",(0,o.jsx)(n.a,{href:"/inventory/inventory-component/functions#on-begin-looting",children:"OnBeginLooting"}),". Get the players HUD and call Open Menu for the ",(0,o.jsx)(n.strong,{children:"W_NarrativeMenu_Looting"})," widget."]}),"\n",(0,o.jsx)("iframe",{src:"https://blueprintue.com/render/4icsk2t4/",width:"100%",height:"400",scrolling:"no",allowfullscreen:!0})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},53945:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/player-state-a8be14902ccf399e55b8dd93ef7b8bf9.webp"},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var o=t(96540);const i={},r=o.createContext(i);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);